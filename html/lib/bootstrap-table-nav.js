// Generated by CoffeeScript 1.6.2
(function() {
  (function($) {
    var current, endIndexForPage, getRows, numPages, onPageNav, options, paint, paintPagination, paintTableRows, startIndexForPage, tableNav,
      _this = this;

    options = {};
    current = {};
    tableNav = function() {
      var _ref, _ref1, _ref2, _ref3, _ref4;
      options.tableSelector = this.selector;
      options.childSelector = 'tr';
      options.paginationSelector = $('.pagination');
      options.itemsPerPage = 18;
      options.hideWhenOnePage = true;
      current.page = 0;
      $(options.paginationSelector).on('click', 'li', onPageNav);
      return paint();
    };
    startIndexForPage = function(page) {
      return options.itemsPerPage * page;
    };
    endIndexForPage = function(page) {
      return startIndexForPage(page + 1) - 1;
    };
    getRows = function() {
      return $(options.tableSelector).find(options.childSelector);
    };
    numPages = function() {
      return Math.ceil(getRows().length / options.itemsPerPage);
    };
    paint = function() {
      paintTableRows();
      return paintPagination();
    };
    onPageNav = function(ev) {
      current.page = parseInt($(ev.target).attr('data-page-num'));
      return paint();
    };
    paintTableRows = function() {
      var endRow, startRow, table;
      startRow = startIndexForPage(current.page);
      endRow = endIndexForPage(current.page);
      table = $(options.tableSelector);
      $("" + options.tableSelector +' > tbody > tr' + ":hidden").show();
      $("" + options.tableSelector +' > tbody > tr' + ":lt(" + startRow + ")").hide();
      return $("" + options.tableSelector +' > tbody > tr' + ":gt(" + endRow + ")").hide();
    };
    paintPagination = function() {
      var cssClass, i, markup, num, pagination, _i;

      num = numPages();
      pagination = $(".pagination");
      if (num === 1 && options.hideWhenOnePage) {
        return pagination.hide();
      }
      markup = [];
      for (i = _i = 0; 0 <= num ? _i < num : _i > num; i = 0 <= num ? ++_i : --_i) {
        cssClass = i === current.page ? 'active' : '';
        markup.push("<li class='" + cssClass + "'><a href='#data/litterfall/reports' data-page-num='" + i + "'>" + (i + 1) + "</a></li>");
      }
      return pagination.show().empty().append("<ul>" + (markup.join('')) + "</ul>");
    };
    return $.extend(jQuery.fn, {
      tableNav: tableNav
    });
  })(window.jQuery);

}).call(this);

/*
//@ sourceMappingURL=bootstrap-table-nav.map
*/